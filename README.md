
# L'√âconome Pitmaster

**Un assistant d'achat intelligent pour la gestion des stocks de restaurants, propuls√© par l'IA.**

Ce projet est une application web compl√®te qui simule un outil de gestion avanc√© pour les restaurants. Il vise √† optimiser la gestion des stocks, √† pr√©venir les ruptures, √† comparer les fournisseurs et √† automatiser le processus de commande gr√¢ce √† des suggestions intelligentes g√©n√©r√©es par plusieurs providers d'IA (Google Gemini, OpenAI GPT, Anthropic Claude).

---

### English Summary
*L'√âconome Pitmaster* is a sophisticated, AI-powered purchasing assistant designed for restaurant stock management. This web application simulates a complete management tool, helping users monitor inventory, prevent shortages by comparing supplier prices, and automate the ordering process with intelligent suggestions generated by multiple AI providers (Google Gemini, OpenAI GPT, Anthropic Claude). The app features a full back office for administration, role-based access control, and a "backend-ready" architecture using a simulated API service layer.

---

![Aper√ßu de L'√âconome Pitmaster](https://i.imgur.com/example.gif) 
*(Image de d√©monstration : un GIF anim√© montrant le tableau de bord, les suggestions de l'IA, la gestion des stocks et le panneau d'administration.)*

## üéØ Concept

La gestion des stocks dans un restaurant est un d√©fi constant : risque de rupture de produits cl√©s, complexit√© du suivi des prix des fournisseurs, et temps perdu √† passer des commandes. "L'√âconome Pitmaster" r√©sout ces probl√®mes en agissant comme un agent d'achat proactif. Il surveille les stocks, identifie les besoins, trouve la meilleure offre et pr√©pare les commandes, permettant aux chefs et g√©rants de se concentrer sur leur c≈ìur de m√©tier : la cuisine et le service.

## ‚ú® Fonctionnalit√©s Cl√©s

### üìä **Front Office (Op√©rationnel)**
- **Tableau de Bord Dynamique** : Visualisation des alertes de stock, des commandes en cours et des indicateurs financiers cl√©s (d√©penses mensuelles, valeur du stock).
- **Gestion des Stocks en Temps R√©el** : Mise √† jour manuelle des stocks, et d√©cr√©mentation automatique via l'import simul√© de fichiers de ventes (tickets de caisse).
- **Agent d'Achat IA Multi-Providers** : G√©n√©ration de suggestions de commandes intelligentes pour les produits en stock bas, avec support de plusieurs providers d'IA :
  - **Google Gemini** : Mod√®les `gemini-2.5-flash` (rapide et √©conomique) et `gemini-2.5-pro` (puissant)
  - **OpenAI** : Mod√®les `gpt-4o` (puissant) et `gpt-4o-mini` (rapide et √©conomique)
  - **Anthropic Claude** : Mod√®les `claude-3-5-sonnet` (puissant) et `claude-3-5-haiku` (rapide et √©conomique)
- **Cycle de Commande Complet** : Cr√©ation de commandes en "Brouillon", envoi aux fournisseurs, et suivi des statuts (`Envoy√©e`, `Re√ßue partiellement`, `Re√ßue totalement`, `Annul√©e`).
- **R√©ception des Marchandises** : Mise √† jour automatique des stocks lors de la r√©ception (partielle ou totale) d'une commande.

### ‚öôÔ∏è **Back Office (Administration)**
- **Interface d'Administration Centralis√©e** : Un hub d√©di√© et s√©curis√© pour le `G√©rant`.
- **Gestion Compl√®te du Catalogue Produits (CRUD)** : Ajoutez, modifiez ou supprimez des produits, d√©finissez leurs seuils d'alerte et leur co√ªt moyen.
- **Gestion des Fournisseurs (CRUD)** : G√©rez les informations des fournisseurs et, surtout, mappez leurs produits (avec SKU et prix) √† votre catalogue interne.
- **Gestion des Utilisateurs** : Cr√©ez des comptes pour votre √©quipe et assignez des r√¥les.
- **Inventaire et Rectification des Stocks** : Importez un fichier d'inventaire complet pour mettre √† jour en masse tous les niveaux de stock et garantir la pr√©cision des donn√©es.
- **Configuration de l'IA Multi-Providers** :
  - Choisissez votre provider d'IA pr√©f√©r√© (Google Gemini, OpenAI, ou Anthropic Claude)
  - Configurez la cl√© API correspondante
  - S√©lectionnez le mod√®le √† utiliser parmi ceux disponibles pour le provider choisi
  - Liens directs vers les plateformes pour obtenir vos cl√©s API

### üîê **S√©curit√© et R√¥les (RBAC)**
- **Contr√¥le d'Acc√®s Bas√© sur les R√¥les** : Trois r√¥les pr√©d√©finis avec des permissions distinctes.
  - **G√©rant** : Acc√®s total, y compris le Back Office et la configuration.
  - **Chef** : Valide les commandes, consulte les co√ªts et les alertes.
  - **Commis** : Saisit les inventaires et r√©ceptionne les commandes.
- **Interface Adaptative** : L'UI se transforme dynamiquement pour ne montrer que les actions et les vues autoris√©es pour le r√¥le de l'utilisateur connect√©.

## üõ†Ô∏è Stack Technique

- **Frontend** : React 19, TypeScript
- **Styling** : Tailwind CSS
- **Intelligence Artificielle** : Support multi-providers
  - Google Gemini API (`@google/genai`)
  - OpenAI API (GPT-4o, GPT-4o-mini)
  - Anthropic API (Claude 3.5 Sonnet, Claude 3.5 Haiku)
- **Architecture** : Application "backend-ready" avec une couche de service (`aiService.ts`, `apiService.ts`) simulant des appels API asynchrones.

## üèõÔ∏è Architecture "Backend-Ready"

Ce projet est con√ßu pour √™tre facilement connect√© √† un v√©ritable back-end.

1.  **Couche de Service API** : Toute la logique de manipulation des donn√©es est centralis√©e dans `services/apiService.ts`. Ce service simule une API REST avec une latence artificielle, rendant le comportement de l'application r√©aliste.
2.  **Logique Asynchrone** : L'ensemble de l'application utilise `async/await` pour interagir avec la couche de service.
3.  **Transition Facile** : Pour passer √† un vrai back-end, il suffit de remplacer les fonctions simul√©es dans `apiService.ts` par de v√©ritables requ√™tes `fetch` ou `axios` vers vos endpoints, sans avoir √† modifier la logique des composants React.

## üöÄ D√©marrage

### Installation Locale

```bash
# Cloner le repository
git clone <repository-url>
cd pitmaster

# Installer les d√©pendances
npm install

# Configurer les variables d'environnement
cp .env.example .env
# √âditer .env avec vos cl√©s API

# Lancer le serveur de d√©veloppement
npm run dev
```

### Configuration des Cl√©s API

‚ö†Ô∏è **Note de S√©curit√©** : Les cl√©s API sont actuellement stock√©es c√¥t√© client. Consultez [SECURITY.md](./SECURITY.md) pour les recommandations de production.

Pour utiliser les fonctionnalit√©s d'IA, cr√©ez un fichier `.env` √† la racine :

```bash
# Copiez le fichier d'exemple
cp .env.example .env
```

Puis ajoutez au moins une cl√© API :

1. **Google Gemini** :
   - Obtenez votre cl√© sur : https://aistudio.google.com/apikey
   - Variable : `VITE_GEMINI_API_KEY=votre_cl√©`

2. **OpenAI** :
   - Obtenez votre cl√© sur : https://platform.openai.com/api-keys
   - Variable : `VITE_OPENAI_API_KEY=votre_cl√©`

3. **Anthropic Claude** :
   - Obtenez votre cl√© sur : https://console.anthropic.com/settings/keys
   - Variable : `VITE_ANTHROPIC_API_KEY=votre_cl√©`

Vous pouvez √©galement configurer les cl√©s API directement depuis l'interface dans **Administration > Pr√©f√©rences**.

### Scripts Disponibles

```bash
npm run dev          # Lancer le serveur de d√©veloppement
npm run build        # Build de production
npm run preview      # Pr√©visualiser le build
npm run lint         # V√©rifier le code avec ESLint
npm run lint:fix     # Corriger automatiquement les erreurs ESLint
npm run format       # Formater le code avec Prettier
npm run format:check # V√©rifier le formatage
```

### Pour tester les diff√©rentes fonctionnalit√©s :

1. **Changer de th√®me** : Cliquez sur l'ic√¥ne soleil/lune en haut de la barre de navigation pour basculer entre mode clair et sombre
2. **Changer d'utilisateur** : Utilisez le s√©lecteur en bas de la navigation pour tester les diff√©rents r√¥les :
   - `Jean Dupont` - G√©rant (acc√®s complet)
   - `Marie Curie` - Chef (validation commandes)
   - `Pierre Martin` - Commis (gestion stocks)
3. **Notifications** : Observez les toasts de confirmation pour chaque action
4. **Administration** : En tant que G√©rant, acc√©dez au panneau Administration pour g√©rer produits, fournisseurs et pr√©f√©rences IA

## ‚ú® Nouvelles Fonctionnalit√©s (v0.2)

- ‚úÖ **Mode Clair/Sombre** : Toggle dynamique avec persistance localStorage
- ‚úÖ **Notifications Toast** : Feedback visuel pour toutes les actions
- ‚úÖ **√âtats de Chargement Am√©lior√©s** : Spinners et overlays r√©utilisables
- ‚úÖ **ESLint + Prettier** : Configuration stricte pour la qualit√© du code
- ‚úÖ **Variables d'Environnement S√©curis√©es** : Support Vite pour les API keys
- ‚úÖ **Documentation S√©curit√©** : Guide complet des meilleures pratiques

## üìã Roadmap √âvolutions Possibles

### Court Terme
- [ ] **Tests Automatis√©s** : Vitest pour les tests unitaires, Playwright pour E2E
- [ ] **Gestion d'√âtat Centralis√©e** : Zustand ou React Context optimis√©
- [ ] **PWA Support** : Mode hors-ligne avec Service Workers
- [ ] **Internationalisation** : Support multi-langues (FR/EN)

### Moyen Terme
- [ ] **D√©veloppement d'un Back-End** : Node.js/Express + PostgreSQL
- [ ] **Authentification JWT** : Syst√®me d'authentification s√©curis√©
- [ ] **WebSockets** : Collaboration temps r√©el multi-utilisateurs
- [ ] **Analytics Dashboard** : Graphiques et pr√©visions avanc√©es
- [ ] **Export PDF/Excel** : Rapports de commandes et inventaires

### Long Terme
- [ ] **Int√©gration POS** : Connexion syst√®mes de caisse
- [ ] **Notifications Push** : Alertes mobiles en temps r√©el
- [ ] **ML Pr√©visions** : Pr√©diction des besoins par IA
- [ ] **Multi-Restaurant** : Architecture SaaS compl√®te

## üîí S√©curit√©

**Important** : Ce projet utilise actuellement un stockage c√¥t√© client des cl√©s API, adapt√© au d√©veloppement uniquement.

Pour la production, consultez [SECURITY.md](./SECURITY.md) pour :
- Configuration backend proxy recommand√©e
- Meilleures pratiques de s√©curit√©
- Checklist de d√©ploiement production
- Protection contre les vuln√©rabilit√©s courantes

## ü§ù Contribution

Les contributions sont les bienvenues ! Avant de contribuer :

1. Fork le projet
2. Cr√©ez une branche (`git checkout -b feature/AmazingFeature`)
3. Committez vos changements (`git commit -m 'Add AmazingFeature'`)
4. Pushez vers la branche (`git push origin feature/AmazingFeature`)
5. Ouvrez une Pull Request

Assurez-vous que :
- Le code passe les linters (`npm run lint`)
- Le formatage est correct (`npm run format:check`)
- Les tests passent (quand impl√©ment√©s)

## üìÑ Licence

Ce projet est distribu√© sous la licence MIT. Voir le fichier `LICENSE` pour plus de d√©tails.
